"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[803],{411:function(e,t,i){i(791);var s=i(691);i(184);t.Z=function(){s.Nx}},803:function(e,t,i){i.r(t),i.d(t,{default:function(){return v}});var s=i(439),n=i(791),o=i(87),m=i(411),l=i(689),a=i(677),r=i(184),_=function(e){var t=e.movies,i=(0,l.TH)();return 0===t.length?(0,r.jsx)("div",{children:"Movies not found"}):null===t?void 0:(0,r.jsx)("ul",{className:a.Z.movies_list,children:t.map((function(e){return(0,r.jsx)("li",{className:a.Z.movies_list_item,children:(0,r.jsxs)(o.rU,{to:"".concat(e.id),state:{from:i},className:a.Z.movies_list_item,children:[(0,r.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:a.Z.original_title,className:a.Z.movies_list_img}),(0,r.jsx)("span",{className:a.Z.movies_list_name,children:e.original_title})]})},e.id)}))})},c="movies_movies_founder__FycZ-",u="movies_movies_input__dxwDy",h="movies_movies_btn__PL3rv",v=function(){var e=(0,o.lr)(),t=(0,s.Z)(e,2),i=t[0],l=t[1],a=(0,n.useState)(""),v=(0,s.Z)(a,2),f=v[0],d=v[1],Z=(0,n.useState)(null),j=(0,s.Z)(Z,2),g=j[0],p=j[1],N=(0,n.useState)(!1),x=(0,s.Z)(N,2),I=x[0],b=x[1],k=(0,n.useState)(null),y=(0,s.Z)(k,2),w=y[0],T=y[1],E=i.get("movieName");return(0,n.useEffect)((function(){if(null===E)return p(null);b(!0),fetch("https://api.themoviedb.org/3/search/movie?query=".concat(E,"&include_adult=false&language=en-US&page=1"),{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3ZmNkOTM1ZjZkZjQ5YTgwOWFjNzg0NTk2MmM3NGQ0ZCIsInN1YiI6IjY0NzMwN2E0YTE5OWE2MDBiZjI5ZTVlZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.250sjm96Er0JgnZyU-7UbzMGl38okKHn9DWdgi3aWgA"}}).then((function(e){return d(E),e.ok?e.json():Promise.reject(new Error("The movie not found"))})).then((function(e){p(e.results)})).catch((function(e){T(e)})).finally(b(!1))}),[E]),(0,r.jsxs)(r.Fragment,{children:[w&&(0,r.jsx)("h1",{children:w.message}),I&&(0,r.jsx)(m.Z,{}),(0,r.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===f.trim())return l({});l({movieName:f})},className:c,children:[(0,r.jsx)("input",{type:"text",value:f,onChange:function(e){d(e.currentTarget.value)},className:u}),(0,r.jsx)("button",{type:"submit",className:h,children:"Search"})]}),g&&(0,r.jsx)(_,{movies:g})]})}},677:function(e,t){t.Z={movies_list_title:"home_movies_list_title__2fmlD",movies_list_item:"home_movies_list_item__AEhf-",movies_list_name:"home_movies_list_name__aHUwm",movies_list_img:"home_movies_list_img__rpiK0",movies_list:"home_movies_list__ET2tf"}}}]);
//# sourceMappingURL=803.d167cc96.chunk.js.map